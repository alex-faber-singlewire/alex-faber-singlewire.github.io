// Compiled by ClojureScript 1.7.170 {:static-fns true, :optimize-constants true}
goog.provide('crisis_dispatch.subs');
goog.require('cljs.core');
goog.require('re_frame.core');
var G__18031_18033 = cljs.core.cst$kw$active_DASH_panel;
var G__18032_18034 = ((function (G__18031_18033){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18031_18033){
return (function (){
return cljs.core.cst$kw$active_DASH_panel.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18031_18033))
);
});})(G__18031_18033))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18031_18033,G__18032_18034) : re_frame.core.register_sub.call(null,G__18031_18033,G__18032_18034));
var G__18035_18037 = cljs.core.cst$kw$active_DASH_parameter;
var G__18036_18038 = ((function (G__18035_18037){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18035_18037){
return (function (){
return cljs.core.cst$kw$active_DASH_parameter.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18035_18037))
);
});})(G__18035_18037))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18035_18037,G__18036_18038) : re_frame.core.register_sub.call(null,G__18035_18037,G__18036_18038));
var G__18039_18041 = cljs.core.cst$kw$active_DASH_scenario;
var G__18040_18042 = ((function (G__18039_18041){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18039_18041){
return (function (){
return cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18039_18041))
);
});})(G__18039_18041))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18039_18041,G__18040_18042) : re_frame.core.register_sub.call(null,G__18039_18041,G__18040_18042));
var G__18043_18045 = cljs.core.cst$kw$admin_DASH_configuration;
var G__18044_18046 = ((function (G__18043_18045){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18043_18045){
return (function (){
return cljs.core.cst$kw$admin_DASH_configuration.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18043_18045))
);
});})(G__18043_18045))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18043_18045,G__18044_18046) : re_frame.core.register_sub.call(null,G__18043_18045,G__18044_18046));
var G__18047_18049 = cljs.core.cst$kw$active_DASH_parameter_DASH_configuration;
var G__18048_18050 = ((function (G__18047_18049){
return (function (db){
var active_scenario = cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
return reagent.ratom.make_reaction(((function (active_scenario,G__18047_18049){
return (function (){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,active_scenario,cljs.core.cst$kw$parameter_DASH_configuration], null));
});})(active_scenario,G__18047_18049))
);
});})(G__18047_18049))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18047_18049,G__18048_18050) : re_frame.core.register_sub.call(null,G__18047_18049,G__18048_18050));
var G__18051_18053 = cljs.core.cst$kw$active_DASH_destination_DASH_mapping;
var G__18052_18054 = ((function (G__18051_18053){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18051_18053){
return (function (){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db))),cljs.core.cst$kw$destination_DASH_mapping], null));
});})(G__18051_18053))
);
});})(G__18051_18053))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18051_18053,G__18052_18054) : re_frame.core.register_sub.call(null,G__18051_18053,G__18052_18054));
var G__18055_18057 = cljs.core.cst$kw$active_DASH_scenario_DASH_parameter_DASH_that_DASH_determines_DASH_destination;
var G__18056_18058 = ((function (G__18055_18057){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18055_18057){
return (function (){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db))),cljs.core.cst$kw$parameter_DASH_configuration,cljs.core.cst$kw$destination_DASH_determined_DASH_by], null));
});})(G__18055_18057))
);
});})(G__18055_18057))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18055_18057,G__18056_18058) : re_frame.core.register_sub.call(null,G__18055_18057,G__18056_18058));
var G__18067_18077 = cljs.core.cst$kw$options;
var G__18068_18078 = ((function (G__18067_18077){
return (function (db){
var active_parameter = (function (){var G__18069 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$active_DASH_parameter], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__18069) : re_frame.core.subscribe.call(null,G__18069));
})();
var active_scenario = (function (){var G__18070 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$active_DASH_scenario], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__18070) : re_frame.core.subscribe.call(null,G__18070));
})();
var order = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_scenario) : cljs.core.deref.call(null,active_scenario)),cljs.core.cst$kw$parameter_DASH_configuration,cljs.core.cst$kw$order], null));
var selected_options = cljs.core.cst$kw$selected_DASH_options.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
var all_parameter_options = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_scenario) : cljs.core.deref.call(null,active_scenario)),cljs.core.cst$kw$parameter_DASH_configuration,cljs.core.cst$kw$options,(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_parameter) : cljs.core.deref.call(null,active_parameter))], null));
var parent_nil_QMARK_ = ((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077){
return (function crisis_dispatch$subs$parent_nil_QMARK_(p__18074){
var vec__18076 = p__18074;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__18076,(0),null);
var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__18076,(1),null);
return (v == null);
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077))
;
var lower_order_parents_chosen_QMARK_ = ((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077){
return (function crisis_dispatch$subs$lower_order_parents_chosen_QMARK_(option){
var active_parameter_index = cljs.core.to_array(order).indexOf((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_parameter) : cljs.core.deref.call(null,active_parameter)));
var lower_order_parents = cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(order,(0),active_parameter_index);
return cljs.core.every_QMARK_(((function (active_parameter_index,lower_order_parents,active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077){
return (function (p){
var option_parent = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(option,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$parents,p], null));
var selected_parent = cljs.core.get.cljs$core$IFn$_invoke$arity$2(selected_options,p);
return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.cst$kw$name.cljs$core$IFn$_invoke$arity$1(option_parent),selected_parent);
});})(active_parameter_index,lower_order_parents,active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077))
,lower_order_parents);
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077))
;
return reagent.ratom.make_reaction(((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077){
return (function (){
return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077){
return (function (option){
var or__4668__auto__ = cljs.core.every_QMARK_(parent_nil_QMARK_,cljs.core.cst$kw$parents.cljs$core$IFn$_invoke$arity$1(option));
if(or__4668__auto__){
return or__4668__auto__;
} else {
return lower_order_parents_chosen_QMARK_(option);
}
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077))
,all_parameter_options);
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__18067_18077))
);
});})(G__18067_18077))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18067_18077,G__18068_18078) : re_frame.core.register_sub.call(null,G__18067_18077,G__18068_18078));
var G__18079_18081 = cljs.core.cst$kw$selected_DASH_options;
var G__18080_18082 = ((function (G__18079_18081){
return (function (db){
return cljs.core.cst$kw$selected_DASH_options.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18079_18081))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18079_18081,G__18080_18082) : re_frame.core.register_sub.call(null,G__18079_18081,G__18080_18082));
var G__18083_18085 = cljs.core.cst$kw$fetched_DASH_messages;
var G__18084_18086 = ((function (G__18083_18085){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18083_18085){
return (function (){
return cljs.core.cst$kw$fetched_DASH_messages.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18083_18085))
);
});})(G__18083_18085))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18083_18085,G__18084_18086) : re_frame.core.register_sub.call(null,G__18083_18085,G__18084_18086));
var G__18087_18089 = cljs.core.cst$kw$broadcast_DASH_instructions;
var G__18088_18090 = ((function (G__18087_18089){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18087_18089){
return (function (){
return cljs.core.cst$kw$broadcast_DASH_instructions.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18087_18089))
);
});})(G__18087_18089))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18087_18089,G__18088_18090) : re_frame.core.register_sub.call(null,G__18087_18089,G__18088_18090));
var G__18091_18093 = cljs.core.cst$kw$ic_DASH_handshake_DASH_successful_QMARK_;
var G__18092_18094 = ((function (G__18091_18093){
return (function (db){
return reagent.ratom.make_reaction(((function (G__18091_18093){
return (function (){
return cljs.core.cst$kw$ic_DASH_handshake_DASH_successful_QMARK_.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__18091_18093))
);
});})(G__18091_18093))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__18091_18093,G__18092_18094) : re_frame.core.register_sub.call(null,G__18091_18093,G__18092_18094));
