// Compiled by ClojureScript 1.7.170 {:static-fns true, :optimize-constants true}
goog.provide('crisis_dispatch.subs');
goog.require('cljs.core');
goog.require('re_frame.core');
var G__13863_13865 = cljs.core.cst$kw$active_DASH_panel;
var G__13864_13866 = ((function (G__13863_13865){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13863_13865){
return (function (){
return cljs.core.cst$kw$active_DASH_panel.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13863_13865))
);
});})(G__13863_13865))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13863_13865,G__13864_13866) : re_frame.core.register_sub.call(null,G__13863_13865,G__13864_13866));
var G__13867_13869 = cljs.core.cst$kw$active_DASH_parameter;
var G__13868_13870 = ((function (G__13867_13869){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13867_13869){
return (function (){
return cljs.core.cst$kw$active_DASH_parameter.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13867_13869))
);
});})(G__13867_13869))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13867_13869,G__13868_13870) : re_frame.core.register_sub.call(null,G__13867_13869,G__13868_13870));
var G__13871_13873 = cljs.core.cst$kw$active_DASH_scenario;
var G__13872_13874 = ((function (G__13871_13873){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13871_13873){
return (function (){
return cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13871_13873))
);
});})(G__13871_13873))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13871_13873,G__13872_13874) : re_frame.core.register_sub.call(null,G__13871_13873,G__13872_13874));
var G__13875_13877 = cljs.core.cst$kw$admin_DASH_configuration;
var G__13876_13878 = ((function (G__13875_13877){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13875_13877){
return (function (){
return cljs.core.cst$kw$admin_DASH_configuration.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13875_13877))
);
});})(G__13875_13877))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13875_13877,G__13876_13878) : re_frame.core.register_sub.call(null,G__13875_13877,G__13876_13878));
var G__13879_13881 = cljs.core.cst$kw$active_DASH_parameter_DASH_configuration;
var G__13880_13882 = ((function (G__13879_13881){
return (function (db){
var active_scenario = cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
return reagent.ratom.make_reaction(((function (active_scenario,G__13879_13881){
return (function (){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,active_scenario,cljs.core.cst$kw$parameter_DASH_configuration], null));
});})(active_scenario,G__13879_13881))
);
});})(G__13879_13881))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13879_13881,G__13880_13882) : re_frame.core.register_sub.call(null,G__13879_13881,G__13880_13882));
var G__13883_13885 = cljs.core.cst$kw$active_DASH_destination_DASH_mapping;
var G__13884_13886 = ((function (G__13883_13885){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13883_13885){
return (function (){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db))),cljs.core.cst$kw$destination_DASH_mapping], null));
});})(G__13883_13885))
);
});})(G__13883_13885))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13883_13885,G__13884_13886) : re_frame.core.register_sub.call(null,G__13883_13885,G__13884_13886));
var G__13887_13889 = cljs.core.cst$kw$active_DASH_scenario_DASH_parameter_DASH_that_DASH_determines_DASH_destination;
var G__13888_13890 = ((function (G__13887_13889){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13887_13889){
return (function (){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,cljs.core.cst$kw$active_DASH_scenario.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db))),cljs.core.cst$kw$parameter_DASH_configuration,cljs.core.cst$kw$destination_DASH_determined_DASH_by], null));
});})(G__13887_13889))
);
});})(G__13887_13889))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13887_13889,G__13888_13890) : re_frame.core.register_sub.call(null,G__13887_13889,G__13888_13890));
var G__13899_13909 = cljs.core.cst$kw$options;
var G__13900_13910 = ((function (G__13899_13909){
return (function (db){
var active_parameter = (function (){var G__13901 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$active_DASH_parameter], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__13901) : re_frame.core.subscribe.call(null,G__13901));
})();
var active_scenario = (function (){var G__13902 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$active_DASH_scenario], null);
return (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__13902) : re_frame.core.subscribe.call(null,G__13902));
})();
var order = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_scenario) : cljs.core.deref.call(null,active_scenario)),cljs.core.cst$kw$parameter_DASH_configuration,cljs.core.cst$kw$order], null));
var selected_options = cljs.core.cst$kw$selected_DASH_options.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
var all_parameter_options = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$admin_DASH_configuration,cljs.core.cst$kw$scenarios,(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_scenario) : cljs.core.deref.call(null,active_scenario)),cljs.core.cst$kw$parameter_DASH_configuration,cljs.core.cst$kw$options,(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_parameter) : cljs.core.deref.call(null,active_parameter))], null));
var parent_nil_QMARK_ = ((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909){
return (function crisis_dispatch$subs$parent_nil_QMARK_(p__13906){
var vec__13908 = p__13906;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__13908,(0),null);
var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__13908,(1),null);
return (v == null);
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909))
;
var lower_order_parents_chosen_QMARK_ = ((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909){
return (function crisis_dispatch$subs$lower_order_parents_chosen_QMARK_(option){
var active_parameter_index = cljs.core.to_array(order).indexOf((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(active_parameter) : cljs.core.deref.call(null,active_parameter)));
var lower_order_parents = cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(order,(0),active_parameter_index);
return cljs.core.every_QMARK_(((function (active_parameter_index,lower_order_parents,active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909){
return (function (p){
var option_parent = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(option,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$parents,p], null));
var selected_parent = cljs.core.get.cljs$core$IFn$_invoke$arity$2(selected_options,p);
return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.cst$kw$name.cljs$core$IFn$_invoke$arity$1(option_parent),selected_parent);
});})(active_parameter_index,lower_order_parents,active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909))
,lower_order_parents);
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909))
;
return reagent.ratom.make_reaction(((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909){
return (function (){
return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(((function (active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909){
return (function (option){
var or__4668__auto__ = cljs.core.every_QMARK_(parent_nil_QMARK_,cljs.core.cst$kw$parents.cljs$core$IFn$_invoke$arity$1(option));
if(or__4668__auto__){
return or__4668__auto__;
} else {
return lower_order_parents_chosen_QMARK_(option);
}
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909))
,all_parameter_options);
});})(active_parameter,active_scenario,order,selected_options,all_parameter_options,G__13899_13909))
);
});})(G__13899_13909))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13899_13909,G__13900_13910) : re_frame.core.register_sub.call(null,G__13899_13909,G__13900_13910));
var G__13911_13913 = cljs.core.cst$kw$selected_DASH_options;
var G__13912_13914 = ((function (G__13911_13913){
return (function (db){
return cljs.core.cst$kw$selected_DASH_options.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13911_13913))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13911_13913,G__13912_13914) : re_frame.core.register_sub.call(null,G__13911_13913,G__13912_13914));
var G__13915_13917 = cljs.core.cst$kw$fetched_DASH_messages;
var G__13916_13918 = ((function (G__13915_13917){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13915_13917){
return (function (){
return cljs.core.cst$kw$fetched_DASH_messages.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13915_13917))
);
});})(G__13915_13917))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13915_13917,G__13916_13918) : re_frame.core.register_sub.call(null,G__13915_13917,G__13916_13918));
var G__13919_13921 = cljs.core.cst$kw$broadcast_DASH_instructions;
var G__13920_13922 = ((function (G__13919_13921){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13919_13921){
return (function (){
return cljs.core.cst$kw$broadcast_DASH_instructions.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13919_13921))
);
});})(G__13919_13921))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13919_13921,G__13920_13922) : re_frame.core.register_sub.call(null,G__13919_13921,G__13920_13922));
var G__13923_13925 = cljs.core.cst$kw$ic_DASH_handshake_DASH_successful_QMARK_;
var G__13924_13926 = ((function (G__13923_13925){
return (function (db){
return reagent.ratom.make_reaction(((function (G__13923_13925){
return (function (){
return cljs.core.cst$kw$ic_DASH_handshake_DASH_successful_QMARK_.cljs$core$IFn$_invoke$arity$1((cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(db) : cljs.core.deref.call(null,db)));
});})(G__13923_13925))
);
});})(G__13923_13925))
;
(re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.register_sub.cljs$core$IFn$_invoke$arity$2(G__13923_13925,G__13924_13926) : re_frame.core.register_sub.call(null,G__13923_13925,G__13924_13926));
